# sakura_internet_vps_memo

## 概要
さくらの VPS を契約した時のメモ

さくらのVPS  
https://vps.sakura.ad.jp/

1G プラン  
CPU: 仮想2Core  
メモリ: 1GB  
SSD: 50GB  

![](doc/image/2024-06-05-21-47-03.png)

![](doc/image/2024-06-05-21-49-45.png)

## 詳細

ここまでは会員登録前に操作  
以下は会員登録しログイン後に操作  

* サーバー: Ubuntu 22:04　※1G プランを選択するまで選択できず  
* サーバーのプラン: 1G プラン  
* SSD 100GB UP: なし  
* リージョン: 石狩第1  
* 購入台数: 1  
* 管理ユーザー名: ubuntu ※固定  
* 管理ユーザーのパスワード: 自分で入力 or 自動生成  
* SSHキー設定(任意): なし  
* スタートアップスクリプト(任意): なし  
* サーバーの名前: Ubuntu 22.04 amd64 石狩第1 1G ※デフォルト  

![](doc/image/2024-06-05-22-19-43.png)

![](doc/image/2024-06-05-22-21-14.png)

![](doc/image/2024-06-05-22-24-42.png)

![](doc/image/2024-06-05-22-28-08.png)

![](doc/image/2024-06-05-22-29-03.png)

![](doc/image/2024-06-05-22-29-35.png)

## サーバー一覧

お支払いを確定後、サーバー一覧に表示されるまでに少し時間かかる。  
3分ほどで追加された。  
しかし、お試し期間を外したはずなのに、なぜかお試し期間中に...なんで？  
→　契約情報見てたら契約状態が「本登録準備中」になってた。時間で解決？  
→　30分以内ぐらいで気づいたら「利用中」になってた。OP25B って制限はつきっぱ  
→　OP25B はスパムメール送信対策で本登録後も72時間程度は制限が付くらしい  

![](doc/image/2024-06-05-22-40-08.png)

## 基本情報

![](doc/image/2024-06-05-22-47-58.png)

![](doc/image/2024-06-05-22-48-42.png)

![](doc/image/2024-06-05-22-49-58.png)

## パケットフィルター設定

![](doc/image/2024-06-05-22-50-51.png)

## ネットワーク

![](doc/image/2024-06-05-22-52-55.png)

![](doc/image/2024-06-05-22-54-28.png)

## サーバー監視情報

![](doc/image/2024-06-05-22-56-30.png)

## コンソール設定

![](doc/image/2024-06-05-22-59-56.png)

## 起動

![](doc/image/2024-06-05-23-11-31.png)

![](doc/image/2024-06-05-23-12-04.png)

![](doc/image/2024-06-05-23-12-49.png)  
稼働中になってから電源操作やコンソールが活性化するまでに数秒かかる

## シャットダウン

![](doc/image/2024-06-05-23-13-50.png)

![](doc/image/2024-06-05-23-14-26.png)

![](doc/image/2024-06-05-23-15-13.png)  
停止中になるまで数秒かかる（それまで稼働中の表示なので一瞬あれ？となる）

## 強制停止

![](doc/image/2024-06-05-23-22-27.png)

![](doc/image/2024-06-05-23-22-49.png)

![](doc/image/2024-06-05-23-23-13.png)  
シャットダウンと異なり一瞬で停止中になる

## 強制再起動

![](doc/image/2024-06-05-23-27-16.png)

![](doc/image/2024-06-05-23-27-30.png)

![](doc/image/2024-06-05-23-28-07.png)  
一瞬チラっと停止中になった後、すぐ稼働中になる。それ以外は起動と一緒

## VNC コンソール

![](doc/image/2024-06-05-23-17-11.png)

![](doc/image/2024-06-05-23-18-55.png)

## シリアルコンソール

![](doc/image/2024-06-05-23-19-34.png)

![](doc/image/2024-06-05-23-21-16.png)

## OS 再インストール

クリックすると、申込時と同じような画面が表示される。

![](doc/image/2024-06-05-23-31-34.png)

## メモ
* Windows 端末のコンソールから SSH 接続 OK
* VSCode の RemoteSSH 接続 OK
* 最新の Docker を手動でインストール OK
  ```
  $ docker --version
  Docker version 26.1.3, build b72abbb
  ```
* 試しに docker で nginx 起動 OK
  ```
  docker run -d -p 80:80 nginx:latest
  ```
  ※パケットフィルター設定で 80 を許可  
  ![](doc/image/2024-06-05-23-59-35.png)  
  ![](doc/image/2024-06-06-00-00-17.png)